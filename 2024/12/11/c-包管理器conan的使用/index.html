<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="keywords" content="前端,技术,杂感,HTML,JavaScript,CSS,PHP,C#,NodeJs"><meta name="author" content="木头的喵喵拖孩"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="canonical" href="https://blog.xx-xx.top/2024/12/11/c-包管理器conan的使用/"><meta name="robots" content="index,follow"><meta name="googlebot" content="index,follow"><meta name="revisit-after" content="1 days"><meta name="description" content="前言原来 c&#x2F;c++ 也是有包管理器的。"><meta property="og:type" content="article"><meta property="og:title" content="c++包管理器conan的使用"><meta property="og:url" content="https://blog.xx-xx.top/2024/12/11/c-%E5%8C%85%E7%AE%A1%E7%90%86%E5%99%A8conan%E7%9A%84%E4%BD%BF%E7%94%A8/index.html"><meta property="og:site_name" content="木头的狗窝"><meta property="og:description" content="前言原来 c&#x2F;c++ 也是有包管理器的。"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2024-12-11T06:58:40.000Z"><meta property="article:modified_time" content="2024-12-30T09:56:18.501Z"><meta property="article:author" content="木头的喵喵拖孩"><meta property="article:tag" content="VSCode"><meta property="article:tag" content="C++"><meta property="article:tag" content="MinGW"><meta property="article:tag" content="CMake"><meta property="article:tag" content="conan"><meta name="twitter:card" content="summary"><link rel="icon" type="image/png" href="/images/header.png" sizes="192x192"><link rel="apple-touch-icon" sizes="180x180" href="/images/header.png"><meta name="theme-color" content="#A31F34"><link rel="shortcut icon" href="/images/header.png"><title>c++包管理器conan的使用 - 木头的狗窝</title><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/assets/fonts.css"><script id="hexo-configurations">let Global=window.Global||{};Global.hexo_config={hostname:"blog.xx-xx.top",root:"/",language:"zh-CN",path:"search.xml"},Global.theme_config={articles:{style:{font_size:"16px",line_height:1.5,image_border_radius:"14px",image_alignment:"center",image_caption:!1,link_icon:!0},word_count:{enable:!0,count:!0,min2read:!0},author_label:{enable:!1,auto:!1,list:[]},code_block:{copy:!0,style:"mac",font:{enable:!1,family:null,url:null}},toc:{enable:!0,max_depth:3,number:!1,expand:!0,init_open:!0},copyright:!0,lazyload:!0,recommendation:{enable:!1,title:"推荐阅读",limit:3,placeholder:"/images/wallhaven-wqery6-light.webp",skip_dirs:[]}},colors:{primary:"#A31F34",secondary:null},global:{fonts:{chinese:{enable:!1,family:null,url:null},english:{enable:!1,family:null,url:null}},content_max_width:"1000px",sidebar_width:"210px",hover:{shadow:!0,scale:!0},scroll_progress:{bar:!0,percentage:!0},busuanzi_counter:{enable:!0,site_pv:!0,site_uv:!0,post_pv:!0},pjax:!0,open_graph:!0,google_analytics:{enable:!1,id:null}},home_banner:{enable:!0,style:"fixed",image:{light:"/images/wallhaven-wqery6-light.webp",dark:"/images/wallhaven-wqery6-dark.webp"},title:"木头的狗窝",subtitle:{text:["前端","技术","杂感","HTML","JavaScript","CSS","PHP","C#","NodeJs"],hitokoto:{enable:!1,api:"https://v1.hitokoto.cn"},typing_speed:100,backing_speed:80,starting_delay:500,backing_delay:1500,loop:!0,smart_backspace:!0},text_color:{light:"#fff",dark:"#d1d1b6"},text_style:{title_size:"2.8rem",subtitle_size:"1.5rem",line_height:1.2},custom_font:{enable:!1,family:null,url:null},social_links:{enable:!0,links:{github:"https://github.com/gjyyyyy",instagram:null,zhihu:null,twitter:null,email:"770248440@qq.com"}}},plugins:{feed:{enable:!1},aplayer:{enable:!1,type:"fixed",audios:[{name:null,artist:null,url:null,cover:null}]},mermaid:{enable:!1,version:"9.3.0"}},version:"2.1.4",navbar:{auto_hide:!1,color:{left:"#f78736",right:"#367df7",transparency:35},links:{Home:{path:"/",icon:"fa-regular fa-house"},Archives:{icon:"fa-regular fa-archive",submenus:{Archives:"/archives",Categories:"/categories",Tags:"/tags"}},About:{icon:"fa-regular fa-user",submenus:{About:"/about",Github:"https://github.com/gjyyyyy",Blog:"https://blog.xx-xx.top","网页小工具":"https://t.xx-xx.top","阮一峰":"http://www.ruanyifeng.com/home.html"}}},search:{enable:!0,preload:!0}},page_templates:{friends_column:2,tags_style:"blur"},home:{sidebar:{enable:!0,position:"right",first_item:"menu",announcement:null,links:{"归档":{path:"/archives",icon:"fa-regular fa-archive"},"标签":{path:"/tags",icon:"fa-regular fa-tags"},"分类":{path:"/categories",icon:"fa-regular fa-folder"}}},article_date_format:"YYYY/MM/DD",categories:{enable:!0,limit:3},tags:{enable:!0,limit:3}}},Global.language_ago={second:"%s 秒前",minute:"%s 分钟前",hour:"%s 小时前",day:"%s 天前",week:"%s 周前",month:"%s 个月前",year:"%s 年前"},Global.data_config={masonry:!1}</script><link rel="stylesheet" href="/fontawesome/fontawesome.min.css"><link rel="stylesheet" href="/fontawesome/brands.min.css"><link rel="stylesheet" href="/fontawesome/solid.min.css"><link rel="stylesheet" href="/fontawesome/regular.min.css"><meta name="generator" content="Hexo 6.3.0"></head><body><div class="progress-bar-container"><span class="scroll-progress-bar"></span> <span class="pjax-progress-bar"></span> <span class="pjax-progress-icon"><i class="fa-solid fa-circle-notch fa-spin"></i></span></div><main class="page-container"><div class="main-content-container"><div class="main-content-header"><header class="navbar-container"><div class="navbar-content"><div class="left"><a class="logo-image" href="/"><img src="/images/header.png"> </a><a class="logo-title" href="/">木头的狗窝</a></div><div class="right"><div class="desktop"><ul class="navbar-list"><li class="navbar-item"><a href="/"><i class="fa-regular fa-house"></i> 首页</a></li><li class="navbar-item"><a class="has-dropdown" href="#" onclick="return!1"><i class="fa-regular fa-archive"></i> 归档&nbsp;<i class="fa-solid fa-chevron-down"></i></a><ul class="sub-menu"><li><a href="/archives">归档</a></li><li><a href="/categories">分类</a></li><li><a href="/tags">标签</a></li></ul></li><li class="navbar-item"><a class="has-dropdown" href="#" onclick="return!1"><i class="fa-regular fa-user"></i> 关于&nbsp;<i class="fa-solid fa-chevron-down"></i></a><ul class="sub-menu"><li><a href="/about">关于</a></li><li><a target="_blank" rel="noopener" href="https://github.com/gjyyyyy">GITHUB</a></li><li><a href="https://blog.xx-xx.top">BLOG</a></li><li><a target="_blank" rel="noopener" href="https://t.xx-xx.top">网页小工具</a></li><li><a target="_blank" rel="noopener" href="http://www.ruanyifeng.com/home.html">阮一峰</a></li></ul></li><li class="navbar-item search search-popup-trigger"><i class="fa-solid fa-magnifying-glass"></i></li></ul></div><div class="mobile"><div class="icon-item search search-popup-trigger"><i class="fa-solid fa-magnifying-glass"></i></div><div class="icon-item navbar-bar"><div class="navbar-bar-middle"></div></div></div></div></div><div class="navbar-drawer"><ul class="drawer-navbar-list"><li class="drawer-navbar-item flex-center"><a href="/"><i class="fa-regular fa-house"></i> 首页</a></li><li class="drawer-navbar-item flex-center"><a class="has-dropdown" href="#" onclick="return!1"><i class="fa-regular fa-archive"></i> 归档&nbsp;<i class="fa-solid fa-chevron-down"></i></a></li><li class="dropdown-item flex-center"><a class="dropdown-item" href="/archives">归档</a></li><li class="dropdown-item flex-center"><a class="dropdown-item" href="/categories">分类</a></li><li class="dropdown-item flex-center"><a class="dropdown-item" href="/tags">标签</a></li><li class="drawer-navbar-item flex-center"><a class="has-dropdown" href="#" onclick="return!1"><i class="fa-regular fa-user"></i> 关于&nbsp;<i class="fa-solid fa-chevron-down"></i></a></li><li class="dropdown-item flex-center"><a class="dropdown-item" href="/about">关于</a></li><li class="dropdown-item flex-center"><a class="dropdown-item" target="_blank" rel="noopener" href="https://github.com/gjyyyyy">GITHUB</a></li><li class="dropdown-item flex-center"><a class="dropdown-item" href="https://blog.xx-xx.top">BLOG</a></li><li class="dropdown-item flex-center"><a class="dropdown-item" target="_blank" rel="noopener" href="https://t.xx-xx.top">网页小工具</a></li><li class="dropdown-item flex-center"><a class="dropdown-item" target="_blank" rel="noopener" href="http://www.ruanyifeng.com/home.html">阮一峰</a></li></ul></div><div class="window-mask"></div></header></div><div class="main-content-body"><div class="main-content"><div class="fade-in-down-animation"><div class="post-page-container"><div class="article-content-container"><div class="article-title"><h1 class="article-title-regular">c++包管理器conan的使用</h1></div><div class="article-header"><div class="avatar"><img src="/images/header.png"></div><div class="info"><div class="author"><span class="name">木头的喵喵拖孩</span></div><div class="meta-info"><div class="article-meta-info"><span class="article-date article-meta-item"><i class="fa-regular fa-pen-fancy"></i>&nbsp; <span class="desktop">2024-12-11 14:58:40</span> <span class="mobile">2024-12-11 14:58</span> <span class="hover-info">创建</span> </span><span class="article-date article-meta-item"><i class="fa-regular fa-wrench"></i>&nbsp; <span class="desktop">2024-12-30 17:56:18</span> <span class="mobile">2024-12-30 17:56</span> <span class="hover-info">更新</span> </span><span class="article-categories article-meta-item"><i class="fa-regular fa-folders"></i>&nbsp;<ul><li><a href="/categories/%E5%AD%A6%E4%B9%A0/">学习</a>&nbsp;</li></ul></span><span class="article-tags article-meta-item"><i class="fa-regular fa-tags"></i>&nbsp;<ul><li><a href="/tags/VSCode/">VSCode</a>&nbsp;</li><li>| <a href="/tags/C/">C++</a>&nbsp;</li><li>| <a href="/tags/MinGW/">MinGW</a>&nbsp;</li><li>| <a href="/tags/CMake/">CMake</a>&nbsp;</li><li>| <a href="/tags/conan/">conan</a>&nbsp;</li></ul></span><span class="article-pv article-meta-item"><i class="fa-regular fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span></span></div></div></div></div><div class="article-content markdown-body"><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>原来 c&#x2F;c++ 也是有包管理器的。</p><span id="more"></span><h1 id="conan"><a href="#conan" class="headerlink" title="conan"></a>conan</h1><p>vcpkg 和 <a class="link" target="_blank" rel="noopener" href="https://conan.io/">conan <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> 是两个 c&#x2F;c++ 流行的包管理器，我选择 conan 是因为它灵活，不像 vcpkg 非要和微软绑定（我的编译器也是采用的 MinGW，不喜欢微软的编译器）</p><h2 id="安装-python"><a href="#安装-python" class="headerlink" title="安装 python"></a>安装 python</h2><p>conan 依赖 pip，所以需要先安装 python。<br><em>python 安装过于简单，此处略。</em><br><strong>需要注意的是，conan 部分功能依赖于 python，需要考虑安装合适的 python 版本。</strong></p><h3 id="切换-pip-源"><a href="#切换-pip-源" class="headerlink" title="切换 pip 源"></a>切换 pip 源</h3><p>pip 默认源在国内访问速度很慢，可以切换为国内源。</p><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 如果pip的可执行文件又被更改过文件名，需要使用更改后的文件名，比如当pip.exe改为pip3.exe时，需要使用pip3</span></span><br><span class="line">pip config <span class="built_in">set</span> global.index-url https://mirrors.aliyun.com/pypi/simple/</span><br></pre></td></tr></table></figure></div><p>切换完成后，可以使用下面命令检测是否切换成功。</p><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip config list</span><br></pre></td></tr></table></figure></div><h2 id="安装-conan"><a href="#安装-conan" class="headerlink" title="安装 conan"></a>安装 conan</h2><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install conan</span><br></pre></td></tr></table></figure></div><p>检测 conan 是否安装成功</p><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conan --version</span><br></pre></td></tr></table></figure></div><h3 id="配置第三方库默认安装目录"><a href="#配置第三方库默认安装目录" class="headerlink" title="配置第三方库默认安装目录"></a>配置第三方库默认安装目录</h3><p>conan 会默认在当前用户目录（C 盘）下安装第三方库，可以通过修改 global.conf 文件来修改默认安装目录。<br>找到 global.conf 文件，一般在当前用户目录下的 .conan2 目录中可以找到。添加如下内容。</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">core.cache:storage_path = C:\Users\danielm\my_conan_storage_folder</span><br></pre></td></tr></table></figure></div><blockquote><p>core.cache:storage_path</p><p>Absolute path to a folder where the Conan packages and the database of the packages will be stored. This folder will be the heaviest Conan storage folder, as it stores the binary packages downloaded or created.</p></blockquote><h2 id="安装-meson（可选）"><a href="#安装-meson（可选）" class="headerlink" title="安装 meson（可选）"></a>安装 meson（可选）</h2><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pip install meson</span><br><span class="line"></span><br><span class="line"><span class="comment"># 检测是否安装成功</span></span><br><span class="line">meson --version</span><br></pre></td></tr></table></figure></div><h2 id="安装-ninja（可选）"><a href="#安装-ninja（可选）" class="headerlink" title="安装 ninja（可选）"></a>安装 ninja（可选）</h2><p><a class="link" target="_blank" rel="noopener" href="https://github.com/ninja-build/ninja/releases">https://github.com/ninja-build/ninja/releases <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p><h2 id="安装-nasm（可选）"><a href="#安装-nasm（可选）" class="headerlink" title="安装 nasm（可选）"></a>安装 nasm（可选）</h2><p><a class="link" target="_blank" rel="noopener" href="https://www.nasm.us/">https://www.nasm.us/ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p><h2 id="搜索远程仓库"><a href="#搜索远程仓库" class="headerlink" title="搜索远程仓库"></a>搜索远程仓库</h2><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 例如需要搜索jsoncpp的包，不加 -r 表示搜索本地仓库</span></span><br><span class="line">conan search jsoncpp -r conancenter</span><br></pre></td></tr></table></figure></div><h1 id="Demo"><a href="#Demo" class="headerlink" title="Demo"></a>Demo</h1><p>项目目录结构如下：</p><ul><li>conanfile.txt</li><li>CMakeLists.txt</li><li>src&#x2F;<ul><li>main.cpp</li></ul></li><li>build&#x2F;</li></ul><h2 id="conanfile-txt"><a href="#conanfile-txt" class="headerlink" title="conanfile.txt"></a>conanfile.txt</h2><p>conanfile.txt 是 conan 在本项目下的配置文件，描述项目所需的依赖库，以及项目的生成器。</p><p><strong>最新版本 conan（2.10.2） 不再支持 cmake 生成器，仅支持 CMakeDeps、CMakeToolchain</strong></p><div class="highlight-container" data-rel="Txt"><figure class="iseeu highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[requires]</span><br><span class="line">jsoncpp/1.9.5</span><br><span class="line"></span><br><span class="line">[generators]</span><br><span class="line">CMakeDeps</span><br><span class="line">CMakeToolchain</span><br><span class="line"></span><br><span class="line">[options]</span><br><span class="line"># conan管理的第三方库默认是以静态库lib的形式集成到项目中去的，如果需要动态库dll形式，则需要添加以下内容</span><br><span class="line"># jsoncpp/1.9.5:shared=True</span><br></pre></td></tr></table></figure></div><p>jsoncpp 是一个帮助 c++处理 json 数据的库，在 conanfile.txt 中添加如下内容，表示依赖 jsoncpp&#x2F;1.9.5 版本的 jsoncpp。</p><h2 id="CMakeLists-txt"><a href="#CMakeLists-txt" class="headerlink" title="CMakeLists.txt"></a>CMakeLists.txt</h2><p>CMakeLists.txt 是 cmake 在本项目下的配置文件，描述了项目的编译选项，以及链接依赖库，参考<a href="/2024/10/29/%E5%9C%A8Windows%E4%B8%8B%E4%BD%BF%E7%94%A8CMake%E6%9E%84%E5%BB%BA%E5%92%8C%E7%AE%A1%E7%90%86%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/">在 Windows 下使用 CMake 构建和管理第三方库</a></p><div class="highlight-container" data-rel="Txt"><figure class="iseeu highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">cmake_minimum_required(VERSION 3.15)</span><br><span class="line"></span><br><span class="line"># 如果是C项目，需要将下面的 CXX 改为 C</span><br><span class="line">project(compressor CXX)</span><br><span class="line"></span><br><span class="line"># 引入conan生成的cmake文件</span><br><span class="line"># 在conan install时，会生成conandeps_legacy.cmake文件，这里需要引入进来，后面才能使用CONANDEPS_LEGACY</span><br><span class="line">include(build/conandeps_legacy.cmake)</span><br><span class="line"></span><br><span class="line">add_executable($&#123;PROJECT_NAME&#125; src/main.cpp)</span><br><span class="line"></span><br><span class="line"># 链接依赖库，CONANDEPS_LEGACY是conan生成的cmake文件里的变量，包含引用的依赖库列表</span><br><span class="line">target_link_libraries($&#123;PROJECT_NAME&#125; $&#123;CONANDEPS_LEGACY&#125;)</span><br></pre></td></tr></table></figure></div><h2 id="src-x2F-main-cpp"><a href="#src-x2F-main-cpp" class="headerlink" title="src&#x2F;main.cpp"></a>src&#x2F;main.cpp</h2><div class="highlight-container" data-rel="Cpp"><figure class="iseeu highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;json/json.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// JSON 字符串</span></span><br><span class="line">    <span class="type">const</span> <span class="type">char</span> *jsonString = <span class="string">R&quot;(&#123;</span></span><br><span class="line"><span class="string">        &quot;name&quot;: &quot;John Doe&quot;,</span></span><br><span class="line"><span class="string">        &quot;age&quot;: 30,</span></span><br><span class="line"><span class="string">        &quot;is_student&quot;: false,</span></span><br><span class="line"><span class="string">        &quot;grades&quot;: [90, 85, 88]</span></span><br><span class="line"><span class="string">    &#125;)&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 解析 JSON 字符串</span></span><br><span class="line">    Json::CharReaderBuilder readerBuilder;</span><br><span class="line">    Json::Value root;</span><br><span class="line">    std::string errs;</span><br><span class="line">    <span class="function">std::istringstream <span class="title">s</span><span class="params">(jsonString)</span></span>;</span><br><span class="line">    <span class="type">bool</span> parsingSuccessful = Json::<span class="built_in">parseFromStream</span>(readerBuilder, s, &amp;root, &amp;errs);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!parsingSuccessful)</span><br><span class="line">    &#123;</span><br><span class="line">        std::cerr &lt;&lt; <span class="string">&quot;Failed to parse JSON: &quot;</span> &lt;&lt; errs &lt;&lt; std::endl;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 访问 JSON 数据</span></span><br><span class="line">    std::string name = root[<span class="string">&quot;name&quot;</span>].<span class="built_in">asString</span>();</span><br><span class="line">    <span class="type">int</span> age = root[<span class="string">&quot;age&quot;</span>].<span class="built_in">asInt</span>();</span><br><span class="line">    <span class="type">bool</span> isStudent = root[<span class="string">&quot;is_student&quot;</span>].<span class="built_in">asBool</span>();</span><br><span class="line">    Json::Value grades = root[<span class="string">&quot;grades&quot;</span>];</span><br><span class="line"></span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Name: &quot;</span> &lt;&lt; name &lt;&lt; std::endl;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Age: &quot;</span> &lt;&lt; age &lt;&lt; std::endl;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Is Student: &quot;</span> &lt;&lt; (isStudent ? <span class="string">&quot;Yes&quot;</span> : <span class="string">&quot;No&quot;</span>) &lt;&lt; std::endl;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Grades: &quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">const</span> <span class="keyword">auto</span> &amp;grade : grades)</span><br><span class="line">    &#123;</span><br><span class="line">        std::cout &lt;&lt; grade.<span class="built_in">asInt</span>() &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    std::cout &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><h2 id="编译"><a href="#编译" class="headerlink" title="编译"></a>编译</h2><p>编译时可能会需要 python、ninja、nasm 等工具，如遇报错，请优先查看工具是否安装，并且是否兼容。</p><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 第一次编译时，需要执行下列命令，获取平台信息</span></span><br><span class="line">conan profile detect</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 在项目根目录执行conan install</span></span><br><span class="line"><span class="comment"># --output-folder=build 表示将conan生成的文件保存在build目录下</span></span><br><span class="line"><span class="comment"># --build=missing 表示如果没有预编译的库，就下载源码来编译</span></span><br><span class="line"><span class="comment"># --profile=myProfile 表示使用自定义的myProfile配置文件</span></span><br><span class="line">conan install . --output-folder=build --build=missing --profile=myProfile</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 进入build目录</span></span><br><span class="line"><span class="built_in">cd</span> build</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 生成 Makefile</span></span><br><span class="line">cmake .. -G <span class="string">&quot;MinGW Makefiles&quot;</span> -DCMAKE_TOOLCHAIN_FILE=<span class="string">&quot;conan_toolchain.cmake&quot;</span>  -DCMAKE_BUILD_TYPE=Release</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 编译</span></span><br><span class="line">cmake --build . --config Release</span><br></pre></td></tr></table></figure></div><h3 id="profile"><a href="#profile" class="headerlink" title="profile"></a>profile</h3><p>使用 conan profile detect 命令自动生成的 profile 文件会根据环境的不同生成不同的内容。</p><p>参考 windows 环境下会生成的内容：</p><div class="highlight-container" data-rel="Text"><figure class="iseeu highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[settings]</span><br><span class="line">arch=x86_64</span><br><span class="line">build_type=Release</span><br><span class="line">compiler=gcc</span><br><span class="line">compiler.cppstd=gnu17</span><br><span class="line">compiler.libcxx=libstdc++11</span><br><span class="line">compiler.version=14</span><br><span class="line">os=Windows</span><br></pre></td></tr></table></figure></div><p>参考 linux 环境下会生成的内容：</p><div class="highlight-container" data-rel="Text"><figure class="iseeu highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[settings]</span><br><span class="line">arch=x86_64</span><br><span class="line">build_type=Release</span><br><span class="line">compiler=gcc</span><br><span class="line">compiler.cppstd=gnu17</span><br><span class="line">compiler.libcxx=libstdc++11</span><br><span class="line">compiler.version=11</span><br><span class="line">os=Linux</span><br></pre></td></tr></table></figure></div><h3 id="自定义-profile"><a href="#自定义-profile" class="headerlink" title="自定义 profile"></a>自定义 profile</h3><p>如果你想交叉编译，则可以通过自定义 profile 来实现。</p><p>例如在 Linux 系统上构建 windows 项目，则可以通过自定义 profile 来实现。参考内容如下：</p><div class="highlight-container" data-rel="Text"><figure class="iseeu highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[settings]</span><br><span class="line">arch=x86_64</span><br><span class="line">build_type=Release</span><br><span class="line">compiler=gcc</span><br><span class="line">compiler.cppstd=gnu17</span><br><span class="line">compiler.libcxx=libstdc++11</span><br><span class="line">compiler.version=14</span><br><span class="line">os=Windows</span><br></pre></td></tr></table></figure></div><p>可以注意到，os 被替换为了 Windows，代表编译目标的运行环境。</p><h3 id="添加编译器路径到系统环境变量"><a href="#添加编译器路径到系统环境变量" class="headerlink" title="添加编译器路径到系统环境变量"></a>添加编译器路径到系统环境变量</h3><p>在执行 conan profile detect 之前，一定要确保编译器已经在系统环境变量中配置好。最好是在系统中永久配置好，当然如果你想临时设置，也可以通过命令行设置。</p><p><em>特别注意：<strong>CC 和 CXX 的值，一定要以斜杠（&#x2F;）分隔，不用使用反斜杠（\）</strong>，否则构建会失败，这是因为构建期间会涉及到 Windows 文件系统之外的文件系统，比如 linux 系统就不支持使用反斜杠作为路径分隔符。</em></p><div class="highlight-container" data-rel="Cmd"><figure class="iseeu highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 临时设置(<span class="built_in">cmd</span>)</span><br><span class="line"><span class="built_in">set</span> CC=<span class="built_in">path</span>/to/your/gcc.exe</span><br><span class="line"><span class="built_in">set</span> CXX=<span class="built_in">path</span>/to/your/g++.exe</span><br></pre></td></tr></table></figure></div><div class="highlight-container" data-rel="Powershell"><figure class="iseeu highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 临时设置(powershell)</span></span><br><span class="line"><span class="variable">$env:CC</span>=<span class="string">&quot;path/to/your/gcc.exe&quot;</span></span><br><span class="line"><span class="variable">$env:CXX</span>=<span class="string">&quot;path/to/your/g++.exe&quot;</span></span><br></pre></td></tr></table></figure></div><p>如果是在Linux系统上进行交叉编译</p><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> CC=x86_64-w64-mingw32-gcc</span><br><span class="line"><span class="built_in">export</span> CXX=x86_64-w64-mingw32-g++</span><br></pre></td></tr></table></figure></div><h1 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h1><h2 id="本地库目录"><a href="#本地库目录" class="headerlink" title="本地库目录"></a>本地库目录</h2><p>一般 conan 安装的包都会保存在 C:\Users\yourUserName.conan2\p\b 目录下，安装时会自动添加到系统环境变量中。代码中可以使用尖括号 &lt;&gt; 来引用本地库，例如：</p><div class="highlight-container" data-rel="Cpp"><figure class="iseeu highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;json/json.h&gt;</span></span></span><br></pre></td></tr></table></figure></div><h2 id="vscode-语法高亮"><a href="#vscode-语法高亮" class="headerlink" title="vscode 语法高亮"></a>vscode 语法高亮</h2><p>需要在项目中添加 .vscode\c_cpp_properties.json 文件，</p><p>添加 <strong>“C:&#x2F;Users&#x2F;yourUserName&#x2F;.conan2&#x2F;p&#x2F;b&#x2F;**“</strong>,</p><p>完整内容如下：</p><div class="highlight-container" data-rel="Json"><figure class="iseeu highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;configurations&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Win32&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;includePath&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="string">&quot;$&#123;workspaceFolder&#125;/**&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;C:/Users/yourUserName/.conan2/p/b/**&quot;</span></span><br><span class="line">      <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;defines&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;_DEBUG&quot;</span><span class="punctuation">,</span> <span class="string">&quot;UNICODE&quot;</span><span class="punctuation">,</span> <span class="string">&quot;_UNICODE&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;compilerPath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;D:\\MinGW\\mingw64\\bin\\gcc.exe&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;cStandard&quot;</span><span class="punctuation">:</span> <span class="string">&quot;c17&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;cppStandard&quot;</span><span class="punctuation">:</span> <span class="string">&quot;gnu++14&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;intelliSenseMode&quot;</span><span class="punctuation">:</span> <span class="string">&quot;windows-gcc-x64&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="number">4</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></div><h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p><a class="link" target="_blank" rel="noopener" href="https://docs.conan.io/2/tutorial/consuming_packages/build_simple_cmake_project.html#">Build a simple CMake project using Conan - conan 2.10.2 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a><br><a class="link" target="_blank" rel="noopener" href="https://www.cnblogs.com/santiego/p/16241318.html">C&#x2F;C++ 包管理器 Conan 使用指南 - conan 1.48.0 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a><br><a href="/2024/10/29/%E5%9C%A8Windows%E4%B8%8B%E4%BD%BF%E7%94%A8CMake%E6%9E%84%E5%BB%BA%E5%92%8C%E7%AE%A1%E7%90%86%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/">在 Windows 下使用 CMake 构建和管理第三方库</a></p></div><div class="post-copyright-info"><div class="article-copyright-info-container"><ul><li><strong>标题:</strong> c++包管理器conan的使用</li><li><strong>作者:</strong> 木头的喵喵拖孩</li><li><strong>创建于:</strong> 2024-12-11 14:58:40</li><li><strong>更新于:</strong> 2024-12-30 17:56:18</li><li><strong>链接:</strong> https://blog.xx-xx.top/2024/12/11/c-包管理器conan的使用/</li><li><strong>版权声明:</strong> 本文章采用 <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">CC BY-NC-SA 4.0</a> 进行许可。</li></ul></div></div><ul class="post-tags-box"><li class="tag-item"><a href="/tags/VSCode/">#VSCode</a>&nbsp;</li><li class="tag-item"><a href="/tags/C/">#C++</a>&nbsp;</li><li class="tag-item"><a href="/tags/MinGW/">#MinGW</a>&nbsp;</li><li class="tag-item"><a href="/tags/CMake/">#CMake</a>&nbsp;</li><li class="tag-item"><a href="/tags/conan/">#conan</a>&nbsp;</li></ul><div class="article-nav"><div class="article-prev"><a class="prev" rel="prev" href="/2025/01/02/%E5%A6%82%E4%BD%95%E4%BE%BF%E5%AE%9C%E4%B9%98%E5%9D%90%E9%A3%9E%E6%9C%BA/"><span class="left arrow-icon flex-center"><i class="fa-solid fa-chevron-left"></i> </span><span class="title flex-center"><span class="post-nav-title-item">如何便宜乘坐飞机</span> <span class="post-nav-item">上一篇</span></span></a></div><div class="article-next"><a class="next" rel="next" href="/2024/12/03/%E4%B8%80%E4%B8%AA%E5%85%BC%E5%AE%B9%E8%A7%A6%E6%91%B8%E5%B1%8F%E7%9A%84%E6%8B%96%E6%8B%BD%E5%88%86%E9%A1%B5%E7%BB%84%E4%BB%B6/"><span class="title flex-center"><span class="post-nav-title-item">一个兼容触摸屏的拖拽分页组件</span> <span class="post-nav-item">下一篇</span> </span><span class="right arrow-icon flex-center"><i class="fa-solid fa-chevron-right"></i></span></a></div></div></div><div class="toc-content-container"><div class="post-toc-wrap"><div class="post-toc"><div class="toc-title">此页目录</div><div class="page-title">c++包管理器conan的使用</div><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%89%8D%E8%A8%80"><span class="nav-text">前言</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#conan"><span class="nav-text">conan</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85-python"><span class="nav-text">安装 python</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%87%E6%8D%A2-pip-%E6%BA%90"><span class="nav-text">切换 pip 源</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85-conan"><span class="nav-text">安装 conan</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E9%BB%98%E8%AE%A4%E5%AE%89%E8%A3%85%E7%9B%AE%E5%BD%95"><span class="nav-text">配置第三方库默认安装目录</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85-meson%EF%BC%88%E5%8F%AF%E9%80%89%EF%BC%89"><span class="nav-text">安装 meson（可选）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85-ninja%EF%BC%88%E5%8F%AF%E9%80%89%EF%BC%89"><span class="nav-text">安装 ninja（可选）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85-nasm%EF%BC%88%E5%8F%AF%E9%80%89%EF%BC%89"><span class="nav-text">安装 nasm（可选）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%90%9C%E7%B4%A2%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93"><span class="nav-text">搜索远程仓库</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Demo"><span class="nav-text">Demo</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#conanfile-txt"><span class="nav-text">conanfile.txt</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CMakeLists-txt"><span class="nav-text">CMakeLists.txt</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#src-x2F-main-cpp"><span class="nav-text">src&#x2F;main.cpp</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BC%96%E8%AF%91"><span class="nav-text">编译</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#profile"><span class="nav-text">profile</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89-profile"><span class="nav-text">自定义 profile</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0%E7%BC%96%E8%AF%91%E5%99%A8%E8%B7%AF%E5%BE%84%E5%88%B0%E7%B3%BB%E7%BB%9F%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="nav-text">添加编译器路径到系统环境变量</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%85%B6%E4%BB%96"><span class="nav-text">其他</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9C%AC%E5%9C%B0%E5%BA%93%E7%9B%AE%E5%BD%95"><span class="nav-text">本地库目录</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vscode-%E8%AF%AD%E6%B3%95%E9%AB%98%E4%BA%AE"><span class="nav-text">vscode 语法高亮</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8F%82%E8%80%83"><span class="nav-text">参考</span></a></li></ol></div></div></div></div></div></div></div><div class="main-content-footer"><footer class="footer"><div class="info-container"><div class="copyright-info">&copy; <span>2023</span> - 2025&nbsp;&nbsp;<i class="fa-solid fa-heart fa-beat" style="--fa-animation-duration:0.5s;color:#f54545"></i>&nbsp;&nbsp;<a href="/">木头的喵喵拖孩</a></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div class="website-count info-item"><span id="busuanzi_container_site_uv" class="busuanzi_container_site_uv">访问人数&nbsp;<span id="busuanzi_value_site_uv" class="busuanzi_value_site_uv"></span> </span><span id="busuanzi_container_site_pv" class="busuanzi_container_site_pv">总访问量&nbsp;<span id="busuanzi_value_site_pv" class="busuanzi_value_site_pv"></span></span></div><div class="theme-info info-item"><span class="powered-by-container">由 <?xml version="1.0" encoding="utf-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg version="1.1" id="圖層_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="1rem" height="1rem" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve"><path fill="#0E83CD" d="M256.4,25.8l-200,115.5L56,371.5l199.6,114.7l200-115.5l0.4-230.2L256.4,25.8z M349,354.6l-18.4,10.7l-18.6-11V275H200v79.6l-18.4,10.7l-18.6-11v-197l18.5-10.6l18.5,10.8V237h112v-79.6l18.5-10.6l18.5,10.8V354.6z"/></svg><a target="_blank" href="https://hexo.io">Hexo</a> 驱动</span><br><span class="theme-version-container">主题&nbsp;<a class="theme-version" target="_blank" href="https://github.com/EvanNotFound/hexo-theme-redefine">Redefine v2.1.4</a></span></div><div id="start_div" style="display:none">2023/1/15 11:45:14</div><div>博客已运行 <span class="odometer" id="runtime_days"></span> 天 <span class="odometer" id="runtime_hours"></span> 小时 <span class="odometer" id="runtime_minutes"></span> 分钟 <span class="odometer" id="runtime_seconds"></span> 秒</div><script async data-pjax>try{function odometer_init(){document.querySelectorAll(".odometer").forEach(e=>{new Odometer({el:e,format:"( ddd).dd",duration:200})})}odometer_init()}catch(e){}</script></div></footer></div></div><div class="post-tools"><div class="post-tools-container"><ul class="article-tools-list"><li class="right-bottom-tools page-aside-toggle"><i class="fa-regular fa-outdent"></i></li></ul></div></div><div class="right-side-tools-container"><div class="side-tools-container"><ul class="hidden-tools-list"><li class="right-bottom-tools tool-font-adjust-plus flex-center"><i class="fa-regular fa-magnifying-glass-plus"></i></li><li class="right-bottom-tools tool-font-adjust-minus flex-center"><i class="fa-regular fa-magnifying-glass-minus"></i></li><li class="right-bottom-tools tool-expand-width flex-center"><i class="fa-regular fa-expand"></i></li><li class="right-bottom-tools tool-dark-light-toggle flex-center"><i class="fa-regular fa-moon"></i></li><li class="right-bottom-tools tool-scroll-to-bottom flex-center"><i class="fa-regular fa-arrow-down"></i></li></ul><ul class="visible-tools-list"><li class="right-bottom-tools toggle-tools-list flex-center"><i class="fa-regular fa-cog fa-spin"></i></li><li class="right-bottom-tools tool-scroll-to-top flex-center"><i class="arrow-up fas fa-arrow-up"></i> <span class="percent"></span></li></ul></div></div><div class="image-viewer-container"><img src=""></div><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-input-field-pre"><i class="fa-solid fa-keyboard"></i></span><div class="search-input-container"><input autocomplete="off" autocorrect="off" autocapitalize="off" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fa-solid fa-times"></i></span></div><div id="search-result"><div id="no-result"><i class="fa-solid fa-spinner fa-spin-pulse fa-5x fa-fw"></i></div></div></div></div></main><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/layouts/navbarShrink.js"></script><script src="/js/tools/scrollTopBottom.js"></script><script src="/js/tools/lightDarkSwitch.js"></script><script src="/js/tools/localSearch.js"></script><script src="/js/tools/codeBlock.js"></script><script src="/js/layouts/lazyload.js"></script><script src="/js/tools/runtime.js"></script><script src="/js/layouts/odometer.min.js"></script><link rel="stylesheet" href="/assets/odometer-theme-minimal.css"><script src="/js/libs/Typed.min.js"></script><script src="/js/plugins/typed.js"></script><div class="post-scripts pjax"><script src="/js/tools/tocToggle.js"></script><script src="/js/libs/anime.min.js"></script><script src="/js/layouts/toc.js"></script><script src="/js/plugins/tabs.js"></script></div><script src="/js/libs/pjax.min.js"></script><script>window.addEventListener("DOMContentLoaded",()=>{window.pjax=new Pjax({selectors:["head title",".page-container",".pjax"],history:!0,debug:!1,cacheBust:!1,timeout:0,analytics:!1,currentUrlFullReload:!1,scrollRestoration:!1}),document.addEventListener("pjax:send",()=>{Global.utils.pjaxProgressBarStart()}),document.addEventListener("pjax:complete",()=>{Global.utils.pjaxProgressBarEnd(),window.pjax.executeScripts(document.querySelectorAll("script[data-pjax], .pjax script")),Global.refresh()})})</script><script src="/js/cache/register.js"></script></body></html>