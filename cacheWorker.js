const CACHE_STATIC_NAME="blog_static_cache",CACHE_NAME="blog_cache",staticUrls=["/assets/fonts.css","/assets/odometer-theme-minimal.css","/css/common/animated.css","/css/common/basic.css","/css/common/codeblock/code-block.css","/css/common/codeblock/code-theme.css","/css/common/codeblock/highlight.css","/css/common/markdown.css","/css/common/redefine-theme.css","/css/common/variables.css","/css/cursor.min.css","/css/layout/archive-content.css","/css/layout/article-content.css","/css/layout/category-content.css","/css/layout/category-list.css","/css/layout/home-content.css","/css/layout/home-sidebar.css","/css/layout/page.css","/css/layout/tag-content.css","/css/style.css","/fontawesome/all.min.css","/fontawesome/brands.min.css","/fontawesome/duotone.min.css","/fontawesome/fontawesome.min.css","/fontawesome/light.min.css","/fontawesome/regular.min.css","/fontawesome/sharp-solid.min.css","/fontawesome/solid.min.css","/fontawesome/svg-with-js.min.css","/fontawesome/thin.min.css","/fontawesome/v4-font-face.min.css","/fontawesome/v4-shims.min.css","/fontawesome/v5-font-face.min.css","/fonts/noto-sans-sc-v26-chinese-simplified-700.woff","/fonts/noto-sans-sc-v26-chinese-simplified-700.woff2","/fonts/noto-sans-sc-v26-chinese-simplified-regular.woff","/fonts/noto-sans-sc-v26-chinese-simplified-regular.woff2","/fonts/open-sans-v34-latin-700.woff","/fonts/open-sans-v34-latin-700.woff2","/fonts/open-sans-v34-latin-regular.woff","/fonts/open-sans-v34-latin-regular.woff2","/fonts/Optima Medium.woff","/fonts/OPTIMA.woff","/fonts/OPTIMA_B.woff","/fonts/Optima_Italic.woff","/fonts/ubuntu-mono-v15-latin-regular.woff","/fonts/ubuntu-mono-v15-latin-regular.woff2","/images/wallhaven-wqery6-dark.webp","/images/wallhaven-wqery6-light.webp","/images/redefine-logo.webp","/images/loading.svg","/images/redefine-avatar.svg","/images/redefine-favicon.svg","/images/redefine-logo.svg","/images/user/header.png","/js/background.min.js","/js/cursor.min.js","/js/fireworks.min.js","/js/ipcheck.js","/js/layouts/lazyload.js","/js/layouts/navbarShrink.js","/js/layouts/odometer.min.js","/js/layouts/toc.js","/js/libs/anime.min.js","/js/libs/APlayer.min.js","/js/libs/APlayer.min.js.map","/js/libs/mermaid.min.js","/js/libs/mermaid.min.js.map","/js/libs/minimasonry.min.js","/js/libs/pjax.min.js","/js/libs/Typed.min.js","/js/main.js","/js/plugins/aplayer.js","/js/plugins/masonry.js","/js/plugins/mermaid.js","/js/plugins/tabs.js","/js/plugins/typed.js","/js/tools/codeBlock.js","/js/tools/lightDarkSwitch.js","/js/tools/localSearch.js","/js/tools/runtime.js","/js/tools/scrollTopBottom.js","/js/tools/tocToggle.js","/js/utils.js","/webfonts/fa-brands-400.ttf","/webfonts/fa-brands-400.woff2","/webfonts/fa-duotone-900.ttf","/webfonts/fa-duotone-900.woff2","/webfonts/fa-light-300.ttf","/webfonts/fa-light-300.woff2","/webfonts/fa-regular-400.ttf","/webfonts/fa-regular-400.woff2","/webfonts/fa-sharp-solid-900.ttf","/webfonts/fa-sharp-solid-900.woff2","/webfonts/fa-solid-900.ttf","/webfonts/fa-solid-900.woff2","/webfonts/fa-thin-100.ttf","/webfonts/fa-thin-100.woff2","/webfonts/fa-v4compatibility.ttf","/webfonts/fa-v4compatibility.woff2"],dynamicUrls=new Map;function isCacheExpired(s,e={}){e=Object.assign({},{timeout:28800},e);let o=!0;s=dynamicUrls.get(s.url);return o=!s||Date.now()>s+1e3*e.timeout,Promise.resolve(o)}function isUrlStaticCache(e,s){return!!s.find(s=>encodeURIComponent(e).includes(encodeURIComponent(s)))}function isUrlCurrentOrigin(s){return s.includes(self.location.origin)}self.addEventListener("install",s=>{console.log("ServiceWorker install"),s.waitUntil(caches.open(CACHE_STATIC_NAME).then(s=>s.addAll(staticUrls)))}),self.addEventListener("fetch",t=>{t.respondWith(caches.match(t.request).then(async s=>{var e,o;return s?!isUrlStaticCache(t.request.url,staticUrls)&&await isCacheExpired(t.request)?(e=(o=await fetch(t.request)).clone(),(await caches.open(CACHE_NAME)).put(t.request,e),dynamicUrls.set(t.request.url,Date.now()),o):s:isUrlCurrentOrigin(t.request.url)?(o=(e=await fetch(t.request)).clone(),(await caches.open(CACHE_NAME)).put(t.request,o),dynamicUrls.set(t.request.url,Date.now()),e):fetch(t.request)}))});